"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[976],{1298:function(e,l,t){t.r(l),t.d(l,{default:function(){return n}});var a=function(){var e=this,l=e._self._c;return l("div",[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入多源异构地震数据一体化编码","suffix-icon":"el-icon-search"},model:{value:e.form.id,callback:function(l){e.$set(e.form,"id",l)},expression:"form.id"}}),l("el-input",{staticStyle:{width:"200px","margin-left":"5px"},attrs:{placeholder:"请输入注释","suffix-icon":"el-icon-search"},model:{value:e.form.description,callback:function(l){e.$set(e.form,"description",l)},expression:"form.description"}}),l("el-button",{staticClass:"ml-5",on:{click:function(l){return e.save()}}},[e._v("添加")]),l("br"),l("br"),l("br"),l("br"),l("br"),l("el-form",{attrs:{"label-width":"80px"}},[l("el-form-item",{attrs:{label:"省份"}},[l("el-select",{attrs:{placeholder:"请选择选项"},on:{change:e.getCities},model:{value:e.selectedProvince,callback:function(l){e.selectedProvince=l},expression:"selectedProvince"}},e._l(e.provinces,(function(e){return l("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),l("el-form-item",{attrs:{label:"城市"}},[l("el-select",{attrs:{placeholder:"请选择选项"},on:{change:e.getCounties},model:{value:e.selectedCity,callback:function(l){e.selectedCity=l},expression:"selectedCity"}},e._l(e.cities,(function(e){return l("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),l("el-form-item",{attrs:{label:"县区"}},[l("el-select",{attrs:{placeholder:"请选择选项"},on:{change:e.getTowns},model:{value:e.selectedCounty,callback:function(l){e.selectedCounty=l},expression:"selectedCounty"}},e._l(e.counties,(function(e){return l("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),l("el-form-item",{attrs:{label:"乡镇"}},[l("el-select",{attrs:{placeholder:"请选择选项"},on:{change:e.getVillages},model:{value:e.selectedTown,callback:function(l){e.selectedTown=l},expression:"selectedTown"}},e._l(e.towns,(function(e){return l("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),l("el-form-item",{attrs:{label:"村社"}},[l("el-select",{attrs:{placeholder:"请选择选项"},model:{value:e.selectedVillage,callback:function(l){e.selectedVillage=l},expression:"selectedVillage"}},e._l(e.villages,(function(e){return l("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),l("el-form-item",[l("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.selectedDate,callback:function(l){e.selectedDate=l},expression:"selectedDate"}})],1),l("el-form-item",{attrs:{label:"来源"}},[l("el-select",{attrs:{placeholder:"请选择选项"},model:{value:e.selectedOriginCode,callback:function(l){e.selectedOriginCode=l},expression:"selectedOriginCode"}},e._l(e.originCode,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"载体"}},[l("el-select",{attrs:{placeholder:"请选择选项"},model:{value:e.selectedCarrierCode,callback:function(l){e.selectedCarrierCode=l},expression:"selectedCarrierCode"}},e._l(e.carrierCode,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"灾情信息"}},[l("el-select",{attrs:{placeholder:"请选择选项"},model:{value:e.selectedCategoryCode,callback:function(l){e.selectedCategoryCode=l},expression:"selectedCategoryCode"}},e._l(e.categoryCode,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"灾情指标"}},[l("el-select",{attrs:{placeholder:"请选择选项"},model:{value:e.selectedLabelCode,callback:function(l){e.selectedLabelCode=l},expression:"selectedLabelCode"}},e._l(e.labelCode,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"详述"}},[l("el-input",{model:{value:e.descriptionDetail,callback:function(l){e.descriptionDetail=l},expression:"descriptionDetail"}})],1)],1),l("div",{staticClass:"dialog-footer",staticStyle:{"margin-left":"80px"},attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.saveDetail}},[e._v("确定")])],1)],1)},s=[],o={name:"Addone",data(){return{tableData:[],total:0,pageNum:1,pageSize:2,id:"",description:"",multipleSelection:[],form:{id:"",description:""},dialogVisible:!1,headerBg:"headerBg",formDetail:{idNoAddress:"",description:"",town:"",village:""},provinces:[],cities:[],counties:[],towns:[],villages:[],selectedDate:null,selectedProvince:"",selectedCity:"",selectedCounty:"",selectedTown:"",selectedVillage:"",selectedOriginCode:null,originCode:[{value:100,label:"前方地震应急指挥部"},{value:101,label:"后方地震应急指挥部"},{value:120,label:"应急指挥技术系统"},{value:121,label:"社会服务工程应急救援系统"},{value:140,label:"危险区预评估工作组"},{value:141,label:"地震应急指挥技术协调组"},{value:142,label:"震后政府信息支持工作项目组"},{value:180,label:"灾情快速上报接收处理系统"},{value:181,label:"地方地震局应急信息服务相关技术系统"},{value:199,label:"其他业务报送数据"},{value:200,label:"互联网感知 "},{value:201,label:"通信网感知"},{value:202,label:"舆情网感知"},{value:203,label:"电力系统感知"},{value:204,label:"交通系统感知"},{value:205,label:"其他泛在感知数据"},{value:300,label:"其他数据"}],selectedCarrierCode:null,carrierCode:[{value:0,label:"文字"},{value:1,label:"图像"},{value:2,label:"音频"},{value:3,label:"视频坏"},{value:4,label:"其他"}],selectedCategoryCode:null,categoryCode:[{value:101,label:"震情信息"},{value:201,label:"死亡"},{value:202,label:"受伤"},{value:203,label:"失踪"},{value:301,label:"土木"},{value:302,label:"砖木"},{value:303,label:"砖混"},{value:304,label:"框架"},{value:305,label:"其他房屋破坏"},{value:401,label:"交通"},{value:402,label:"供水"},{value:403,label:"输油"},{value:404,label:"燃气"},{value:405,label:"电力"},{value:406,label:"通信"},{value:407,label:"水利"},{value:501,label:"崩塌 "},{value:502,label:"滑坡"},{value:503,label:"泥石流 "},{value:504,label:"岩溶塌陷"},{value:505,label:"地裂缝 "},{value:506,label:"地面沉降"},{value:507,label:"其他（沙土液、化、火灾、毒气、泄露、爆炸、环、境污染、瘟疫、海啸等）"}],selectedLabelCode:null,labelCode:[{value:101,label:"地理位置"},{value:102,label:"时间"},{value:103,label:"震级"},{value:104,label:"震源深度"},{value:105,label:"烈度"},{value:201,label:"受灾人数"},{value:202,label:"受灾程度"},{value:301,label:"一般损坏面积"},{value:302,label:"严重损坏面积"},{value:303,label:"受灾程度"},{value:401,label:"受灾设施数"},{value:402,label:"受灾范围"},{value:403,label:"受灾程度"},{value:501,label:"灾害损失"},{value:502,label:"灾害范围"},{value:503,label:"受灾程度"}],descriptionDetail:""}},created(){this.getProvinces()},methods:{save(){this.request.post("/detailed/add",null,{params:this.form}).then((e=>{e?(this.$message.success("添加成功"),this.dialogVisible=!1):this.$message.error("添加失败")}))},getProvinces(){this.request.get("/chose/getProvinces").then((e=>{this.provinces=e})).catch((e=>{console.error(e),this.selectedProvince=""}))},getCities(){console.log(this.selectedProvince),this.request.get("/chose/getCities",{params:{province:this.selectedProvince}}).then((e=>{this.cities=e,this.selectedCity=""})).catch((e=>{console.error(e)}))},getCounties(){this.request.get("/chose/getCounties",{params:{city:this.selectedCity}}).then((e=>{this.counties=e,this.selectedCounty=""})).catch((e=>{console.error(e)}))},getTowns(){this.request.get("/chose/getTowns",{params:{county:this.selectedCounty}}).then((e=>{this.towns=e,this.selectedTown=""})).catch((e=>{console.error(e)}))},getVillages(){this.request.get("/chose/getVillages",{params:{town:this.selectedTown}}).then((e=>{this.villages=e,this.selectedVillage=""})).catch((e=>{console.error(e)}))},saveDetail(){let e=new Date(this.selectedDate),l=e.getFullYear().toString(),t=(e.getMonth()+1).toString();1===t.length&&(t="0"+t);let a=e.getDate().toString();1===a.length&&(a="0"+a);let s=e.getHours().toString();1===s.length&&(s="0"+s);let o=e.getMinutes().toString();1===o.length&&(o="0"+o);let i=e.getSeconds().toString();1===i.length&&(i="0"+i),this.formDetail.idNoAddress=l+t+a+s+o+i+this.selectedOriginCode.toString()+this.selectedCarrierCode.toString()+this.selectedCategoryCode.toString()+this.selectedLabelCode.toString(),this.formDetail.description=this.descriptionDetail,this.formDetail.town=this.selectedTown,this.formDetail.village=this.selectedVillage,console.log(this.formDetail.idNoAddress),console.log(this.formDetail.town),console.log(this.formDetail.village),console.log(this.formDetail.description),this.request.post("/detailed/addDetail",null,{params:this.formDetail}).then((e=>{console.log(e),this.$message.success("添加成功")})).catch((e=>{console.error(e)}))}}},i=o,r=t(1001),c=(0,r.Z)(i,a,s,!1,null,null,null),n=c.exports}}]);
//# sourceMappingURL=976.02591e5d.js.map